
## Retrieveing posts
When we develop themes, much of the work is about retrieving a specific post and output its data. Wordpress has a simple content API with methods to retrive one or many posts. These methods will eventually trigger SQL-code and return the found post or posts as an object array in PHP. With this array of post objects we can iterate through each post and access their data fields.

### The Loop and Query
The Loop refers to a set of Wordpress methods used to iterate trough an array of posts. This post array comes from something called **Wordpress query**. By default we don't have to create any query, as we wil get one by default. This default query  will return a post array containing only one post, beeing the current post the query was called from.

In cases where we want to retrieve content from other posts we can use Wordpress **WP_query** class, with methods where we can pass in parameters to pinpoint only the exact post or post**s** we want.

With the help of two methods from the **WP_query** class we can start creating **The Loop**:

**have_posts()** 
Will return a boolean telling if the current query has any posts. Are used outside The Loop and also in the loop's definition.

**the_post()** 
Used inside The Loop to set up the current post in the array. This exposes methods we can use to directly access the data fields of that post. **It also tells the while-loop to iterate one step forward.**

```
<?php 
// The Loop
if(have_posts()):

    while ( have_posts():
        the_post();
        //Do something with each post object
    endwhile;
    
endif;

?>
```

Another example using a custom query instead of the default one:

```
<?php 


// The Query
$the_query = new WP_Query( array( 'category_name' => 'cats' ) );

// The Loop
if($the_query->have_posts()):
    $the_query->the_post();
    while ( $the_query->have_posts()
        //Do something with each post object
    endwhile;
    
endif;

?>
```
### Inside the Loop
After calling `the_post()` we can use other Wordpress methods to output or handle the post's data. These will be covered more in the Templates section of this course.

Wrapping it up, here is an example of how we can create a simple Loop to output the current post's content and title:

```
<?php 
// The Loop
if(have_posts()):

    while ( have_posts():
        the_post();
        
        the_title();
        the_content();
        
    endwhile;
    
endif;

?>
```
